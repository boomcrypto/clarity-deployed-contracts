---
title: "Trait amm-pool-v2-02"
draft: true
---
```
(use-trait nma 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.trait-sip-010.sip-010-trait) (use-trait nmb 'SP2AKWJYC7BNY18W1XXKPGP0YVEK63QJG4793Z2D4.sip-010-trait-ft-standard.sip-010-trait) (use-trait nmc 'SP2ZNGJ85ENDY6QRHQ5P2D4FXKGZWCKTB2T0Z55KS.dao-traits-v4.sip010-ft-trait) (use-trait share-fee-to-trait 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-share-fee-to-trait.share-fee-to-trait) (use-trait sfttc 'SP2ZNGJ85ENDY6QRHQ5P2D4FXKGZWCKTB2T0Z55KS.dao-traits-v4.share-fee-to-trait) (use-trait upt2 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-pool-trait_v1_0_0.univ2-pool-trait) (use-trait uft2 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-fees-trait_v1_0_0.univ2-fees-trait) (use-trait sspl 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.liquidity-token-trait-v4c.liquidity-token-trait) (define-public (swap-helper-a (free <nma>) (palestine <nma>) (ii uint) (ll uint) (id uint) (ill <nmb>) (j <nmb>) (jj <nmb>) (jlj <nmb>) (lil uint) (share-fee-to <share-fee-to-trait>) (nn uint)) (contract-call? 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-router swap-exact-tokens-for-tokens id ill j jj jlj share-fee-to (/ (try! (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper free palestine ll ii (some u1)) ) nn) lil) ) (define-public (swap-helper-b (free <nma>)  (palestine <nma>)  (l uint)  (ll uint) (id uint) (ill <nmb>) (j <nmb>) (jj <nmb>) (jlj <nmb>) (li uint) (share-fee-to <share-fee-to-trait>) (nn uint)) (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper free palestine ll (* (get amt-out (try! (contract-call? 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-router swap-exact-tokens-for-tokens id ill j jj jlj share-fee-to li u1))) nn) (some l)) ) (define-public (swap-helper-g (t <nma>) (tt <nma>) (ttt <nma>) (ii uint) (ll uint) (n uint) (id uint) (ill <nmb>) (j <nmb>) (jj <nmb>) (jlj <nmb>) (lil uint) (share-fee-to <share-fee-to-trait>) (nn uint)) (contract-call? 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-router swap-exact-tokens-for-tokens id ill j jj jlj share-fee-to (/ (try! (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper-a t tt ttt ll n ii (some u1)) ) nn) lil) ) (define-public (swap-helper-h (t <nma>) (tt <nma>) (ttt <nma>) (l uint) (ll uint) (n uint) (id uint) (ill <nmb>) (j <nmb>) (jj <nmb>) (jlj <nmb>) (li uint) (share-fee-to <share-fee-to-trait>) (nn uint)) (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper-a t tt ttt ll n (* (get amt-out (try! (contract-call? 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-router swap-exact-tokens-for-tokens id ill j jj jlj share-fee-to li u1))) nn) (some l)) ) (define-public (joker (mm <nma>) (mmm <nma>) (ll uint) (ii uint) (min-dy uint) (id uint) (ill <nmb>) (j <nmb>) (jj <nmb>) (jlj <nmb>) (li uint) (lil uint) (share-fee-to <share-fee-to-trait>) ) (begin (try! (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper mm mmm ll ii (some min-dy))) (contract-call? 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-router swap-exact-tokens-for-tokens id ill j jj jlj share-fee-to li lil) )) (define-public (swap-helper-i (mm <nma>) (mmm <nma>) (min-dy uint) (ll uint) (jj <nmb>) (jlj <nmb>) (li uint) (uni-pool-trait <upt2>)  (univ2v2-fees <uft2>) (nn uint)) (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper mm mmm ll (* (get amt-out (try! (contract-call? uni-pool-trait swap jj jlj univ2v2-fees li u1))) nn) (some min-dy)) ) (define-public (swap-helper-j (mm <nma>) (mmm <nma>) (ii uint) (ll uint) (jj <nmb>) (jlj <nmb>) (lil uint) (uni-pool-trait <upt2>) (univ2v2-fees <uft2>) (nn uint)) (contract-call? uni-pool-trait swap jj jlj univ2v2-fees (/ (try! (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper mm mmm ll ii (some u1))) nn) lil) ) (define-public (swap-helper-k (free <nma>) (palestine <nma>) (ii uint) (ll uint) (ill <nmb>) (j <nmb>) (lil uint) (nn uint)) (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-y-for-x ill j (/ (try! (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper free palestine ll ii (some u1)) ) nn) lil) ) (define-public (swap-helper-l (free <nma>)  (palestine <nma>)  (l uint)  (ll uint) (ill <nmb>) (j <nmb>) (li uint) (nn uint)) (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper free palestine ll (* (unwrap-panic (element-at? (try! (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-x-for-y ill j li u1)) u1)) nn) (some l)) ) (define-public (swap-helper-k3 (t <nma>) (tt <nma>) (ttt <nma>) (ii uint) (ll uint) (n uint) (j <nmb>) (ill <nmb>) (lil uint) (nn uint)) (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-y-for-x ill j (/ (try! (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper-a t tt ttt ll n ii (some u1)) ) nn) lil) ) (define-public (swap-helper-l3 (t <nma>) (tt <nma>) (ttt <nma>) (l uint) (ll uint) (n uint) (ill <nmb>) (j <nmb>) (li uint) (nn uint)) (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper-a t tt ttt ll n (* (unwrap-panic (element-at? (try! (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-x-for-y ill j li u1)) u1)) nn) (some l)) ) (define-public (swap-helper-m (id uint) (ill <nmb>) (j <nmb>) (jj <nmb>) (jlj <nmb>) (li uint) (share-fee-to <share-fee-to-trait>) (iill <nmb>) (jji <nmb>) (lil uint) ) (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-y-for-x iill jji (get amt-out (try! (contract-call? 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-router swap-exact-tokens-for-tokens id ill j jj jlj share-fee-to li u1))) lil) ) (define-public (swap-helper-n (id uint) (ill <nmb>) (j <nmb>) (jj <nmb>) (jlj <nmb>) (min-amt uint) (share-fee-to <share-fee-to-trait>) (iill <nmb>) (jji <nmb>) (li uint) ) (contract-call? 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-router swap-exact-tokens-for-tokens id ill j jj jlj share-fee-to (unwrap-panic (element-at? (try! (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-x-for-y iill jji li u1)) u1)) min-amt) ) (define-public (m2 (jj <nmb>) (jlj <nmb>) (li uint) (uni-pool-trait <upt2>)  (univ2v2-fees <uft2>) (mm <nma>) (mmm <nma>) (min-dy uint) ) (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-y-for-x mmm mm (get amt-out (try! (contract-call? uni-pool-trait swap jj jlj univ2v2-fees li u1))) min-dy) ) (define-public (n2 (jj <nmb>) (jlj <nmb>) (lil uint) (uni-pool-trait <upt2>) (univ2v2-fees <uft2>) (mm <nma>) (mmm <nma>) (ii uint) ) (contract-call? uni-pool-trait swap jj jlj univ2v2-fees (unwrap-panic (element-at? (try! (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-x-for-y mm mmm ii u1)) u1)) lil) ) (define-public (swap-helper-o (free <nma>) (palestine <nma>) (li uint) (ll uint) (jj <nmb>) (jlj <nmb>) (nin <sspl>) (min-amt uint) (nn uint)) (let ((sender tx-sender) (this (as-contract tx-sender)) ) (try! (stx-transfer? (/ li u100) sender this)) (as-contract (stx-transfer? (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-y-for-x jlj jj nin (/ (try! (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper free palestine ll li (some u1)) ) nn) min-amt )) u0)) this sender)) ) ) (define-public (swap-helper-p (free <nma>) (palestine <nma>) (min-amt uint) (ll uint) (jj <nmb>) (jlj <nmb>) (nin <sspl>) (li uint) (nn uint)) (let ((sender tx-sender) (this (as-contract tx-sender)) ) (try! (stx-transfer? li sender this)) (as-contract (stx-transfer? (/ (try! (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper free palestine ll (* (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-x-for-y jj jlj nin li u1)) u1) ) nn) (some min-amt) )) u100) this sender))) ) (define-public (swap-helper-s (ill <nmb>) (j <nmb>) (li uint) (t-s <nmb>) (tt-s <nmb>) (nin <sspl>) (min-amt uint) ) (let ((sender tx-sender) (this (as-contract tx-sender)) ) (try! (stx-transfer? li sender this)) (as-contract (stx-transfer? (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-y-for-x tt-s t-s nin (unwrap-panic (element-at? (try! (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-x-for-y ill j li u1)) u1)) min-amt )) u0)) this sender)) )) (define-public (swap-helper-t (ill <nmb>) (j <nmb>) (min-amt uint) (t-s <nmb>) (tt-s <nmb>) (nin <sspl>) (li uint) ) (let ((sender tx-sender) (this (as-contract tx-sender)) ) (try! (stx-transfer? li sender this)) (as-contract (stx-transfer? (unwrap-panic (element-at? (try! (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-y-for-x j ill (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-x-for-y t-s tt-s nin li u1)) u1)) min-amt)) u0)) this sender)) )) (define-public (swap-helper-u (free <nma>) (palestine <nma>) (ii uint) (ll uint) (jj <nmb>) (tlhi <nmb>) (jlj <nmb>) (nin <sspl>) (tlh <sspl>) (min-amt uint) (nn uint)) (let ((sender tx-sender) (this (as-contract tx-sender))) (try! (stx-transfer? (/ ii u100) sender this)) (as-contract (stx-transfer?  (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-y-for-x jlj tlhi tlh (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-y-for-x tlhi jj nin (/ (try! (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper free palestine ll ii (some u1)) ) nn) u1)) u0)) min-amt)) u0)) this sender )))) (define-public (swap-helper-v (free <nma>) (palestine <nma>) (min-amt uint) (ll uint) (jj <nmb>) (tlhi <nmb>) (jlj <nmb>) (nin <sspl>) (tlh <sspl>) (ii uint) (nn uint)) (let ((sender tx-sender) (this (as-contract tx-sender)) ) (try! (stx-transfer? ii sender this)) (as-contract (stx-transfer? (/ (try! (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper free palestine ll (* (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-x-for-y tlhi jlj tlh (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-x-for-y jj tlhi nin ii u1) ) u1)) u1) ) u1)) nn) (some min-amt))) u100) this sender )))) (define-public (swap-helper-w (id uint) (ill <nmb>) (j <nmb>) (jj <nmb>) (jlj <nmb>) (li uint) (share-fee-to <share-fee-to-trait>) (jjg <nmb>) (tlhi <nmb>) (jjg <nmb>) (nin <sspl>) (tlh <sspl>) (min-amt uint) ) (let ((sender tx-sender) (this (as-contract tx-sender))) (try! (stx-transfer? li sender this)) (as-contract (stx-transfer?  (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-y-for-x jjg tlhi tlh (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-y-for-x tlhi jjg nin (get amt-out (try! (contract-call? 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-router swap-exact-tokens-for-tokens id ill j jj jlj share-fee-to li u1))) u1)) u0)) min-amt)) u0)) this sender )))) (define-public (swap-helper-x (id uint) (ill <nmb>) (j <nmb>) (jj <nmb>) (jlj <nmb>) (min-amt uint) (share-fee-to <share-fee-to-trait>) (jjg <nmb>) (tlhi <nmb>) (jjg <nmb>) (nin <sspl>) (tlh <sspl>) (li uint) ) (let ((sender tx-sender) (this (as-contract tx-sender)) ) (try! (stx-transfer? li sender this)) (as-contract (stx-transfer? (get amt-out (try! (contract-call? 'SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.univ2-router swap-exact-tokens-for-tokens id ill j jj jlj share-fee-to (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-x-for-y tlhi jjg tlh (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-x-for-y jjg tlhi nin li u1) ) u1)) u1) ) u1)) min-amt))) this sender )))) (define-public (swap-helper-y (ill <nmb>) (j <nmb>) (li uint) (jjg <nmb>) (tlhi <nmb>) (jjg <nmb>) (nin <sspl>) (tlh <sspl>) (min-amt uint) ) (let ((sender tx-sender) (this (as-contract tx-sender))) (try! (stx-transfer? li sender this)) (as-contract (stx-transfer?  (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-y-for-x jjg tlhi tlh (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-y-for-x tlhi jjg nin (unwrap-panic (element-at? (try! (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-x-for-y ill j li u1)) u1)) u1)) u0)) min-amt)) u0)) this sender )))) (define-public (swap-helper-z (j <nmb>) (ill <nmb>) (min-amt uint) (jjg <nmb>) (tlhi <nmb>) (jjg <nmb>) (nin <sspl>) (tlh <sspl>) (li uint) ) (let ((sender tx-sender) (this (as-contract tx-sender)) ) (try! (stx-transfer? li sender this)) (as-contract (stx-transfer? (unwrap-panic (element-at? (try! (contract-call? 'SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-swap-v2-1 swap-y-for-x ill j (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-x-for-y tlhi jjg tlh (unwrap-panic (element-at? (try! (contract-call? 'SP1Z92MPDQEWZXW36VX71Q25HKF5K2EPCJ304F275.stackswap-swap-v5k swap-x-for-y jjg tlhi nin li u1) ) u1)) u1) ) u1)) min-amt)) u0)) this sender )))) (define-constant owner tx-sender) (define-public (withdraw) (stx-transfer? (stx-get-balance (as-contract tx-sender)) (as-contract tx-sender) owner))
```
