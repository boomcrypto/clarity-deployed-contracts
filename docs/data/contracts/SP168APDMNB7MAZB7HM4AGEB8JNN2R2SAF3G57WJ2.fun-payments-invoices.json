{"address":"SP168APDMNB7MAZB7HM4AGEB8JNN2R2SAF3G57WJ2","name":"fun-payments-invoices","block_height":466157,"burn_block_time_iso":"2025-01-15T10:12:06.000Z","contractInterface":{"functions":[{"name":"get-or-create-user","access":"private","args":[{"name":"address","type":"principal"}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"is-dao-or-extension","access":"private","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"add-resource","access":"public","args":[{"name":"name","type":{"string-utf8":{"length":50}}},{"name":"description","type":{"string-utf8":{"length":255}}},{"name":"price","type":"uint128"},{"name":"url","type":{"optional":{"string-utf8":{"length":255}}}}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"callback","access":"public","args":[{"name":"sender","type":"principal"},{"name":"memo","type":{"buffer":{"length":34}}}],"outputs":{"type":{"response":{"ok":"bool","error":"none"}}}},{"name":"pay-invoice","access":"public","args":[{"name":"resourceIndex","type":"uint128"},{"name":"memo","type":{"optional":{"buffer":{"length":34}}}}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"pay-invoice-by-resource-name","access":"public","args":[{"name":"name","type":{"string-utf8":{"length":50}}},{"name":"memo","type":{"optional":{"buffer":{"length":34}}}}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"set-payment-address","access":"public","args":[{"name":"newAddress","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"toggle-resource","access":"public","args":[{"name":"resourceIndex","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"toggle-resource-by-name","access":"public","args":[{"name":"name","type":{"string-utf8":{"length":50}}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"get-contract-data","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"paymentAddress","type":{"optional":"principal"}},{"name":"totalInvoices","type":"uint128"},{"name":"totalResources","type":"uint128"},{"name":"totalRevenue","type":"uint128"},{"name":"totalUsers","type":"uint128"}]}}},{"name":"get-invoice","access":"read_only","args":[{"name":"index","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"amount","type":"uint128"},{"name":"createdAt","type":"uint128"},{"name":"resourceIndex","type":"uint128"},{"name":"resourceName","type":{"string-utf8":{"length":50}}},{"name":"userIndex","type":"uint128"}]}}}},{"name":"get-payment-address","access":"read_only","args":[],"outputs":{"type":{"optional":"principal"}}},{"name":"get-recent-payment","access":"read_only","args":[{"name":"resourceIndex","type":"uint128"},{"name":"userIndex","type":"uint128"}],"outputs":{"type":{"optional":"uint128"}}},{"name":"get-recent-payment-data","access":"read_only","args":[{"name":"resourceIndex","type":"uint128"},{"name":"userIndex","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"amount","type":"uint128"},{"name":"createdAt","type":"uint128"},{"name":"resourceIndex","type":"uint128"},{"name":"resourceName","type":{"string-utf8":{"length":50}}},{"name":"userIndex","type":"uint128"}]}}}},{"name":"get-recent-payment-data-by-address","access":"read_only","args":[{"name":"name","type":{"string-utf8":{"length":50}}},{"name":"user","type":"principal"}],"outputs":{"type":{"optional":{"tuple":[{"name":"amount","type":"uint128"},{"name":"createdAt","type":"uint128"},{"name":"resourceIndex","type":"uint128"},{"name":"resourceName","type":{"string-utf8":{"length":50}}},{"name":"userIndex","type":"uint128"}]}}}},{"name":"get-resource","access":"read_only","args":[{"name":"index","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"createdAt","type":"uint128"},{"name":"description","type":{"string-utf8":{"length":255}}},{"name":"enabled","type":"bool"},{"name":"name","type":{"string-utf8":{"length":50}}},{"name":"price","type":"uint128"},{"name":"totalSpent","type":"uint128"},{"name":"totalUsed","type":"uint128"},{"name":"url","type":{"optional":{"string-utf8":{"length":255}}}}]}}}},{"name":"get-resource-by-name","access":"read_only","args":[{"name":"name","type":{"string-utf8":{"length":50}}}],"outputs":{"type":{"optional":{"tuple":[{"name":"createdAt","type":"uint128"},{"name":"description","type":{"string-utf8":{"length":255}}},{"name":"enabled","type":"bool"},{"name":"name","type":{"string-utf8":{"length":50}}},{"name":"price","type":"uint128"},{"name":"totalSpent","type":"uint128"},{"name":"totalUsed","type":"uint128"},{"name":"url","type":{"optional":{"string-utf8":{"length":255}}}}]}}}},{"name":"get-resource-index","access":"read_only","args":[{"name":"name","type":{"string-utf8":{"length":50}}}],"outputs":{"type":{"optional":"uint128"}}},{"name":"get-total-invoices","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-total-resources","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-total-revenue","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-total-users","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-user-data","access":"read_only","args":[{"name":"index","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"address","type":"principal"},{"name":"totalSpent","type":"uint128"},{"name":"totalUsed","type":"uint128"}]}}}},{"name":"get-user-data-by-address","access":"read_only","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"optional":{"tuple":[{"name":"address","type":"principal"},{"name":"totalSpent","type":"uint128"},{"name":"totalUsed","type":"uint128"}]}}}},{"name":"get-user-index","access":"read_only","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"optional":"uint128"}}}],"variables":[{"name":"ERR_DELETING_RESOURCE_DATA","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_INVALID_PARAMS","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_INVOICE_ALREADY_PAID","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_INVOICE_NOT_FOUND","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_NAME_ALREADY_USED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_RECENT_PAYMENT_NOT_FOUND","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_RESOURCE_DISABLED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_RESOURCE_NOT_FOUND","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_SAVING_INVOICE_DATA","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_SAVING_RESOURCE_DATA","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_SAVING_USER_DATA","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_UNAUTHORIZED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_USER_ALREADY_EXISTS","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_USER_NOT_FOUND","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"SELF","type":"principal","access":"constant"},{"name":"invoiceCount","type":"uint128","access":"variable"},{"name":"paymentAddress","type":"principal","access":"variable"},{"name":"resourceCount","type":"uint128","access":"variable"},{"name":"totalRevenue","type":"uint128","access":"variable"},{"name":"userCount","type":"uint128","access":"variable"}],"maps":[{"name":"InvoiceData","key":"uint128","value":{"tuple":[{"name":"amount","type":"uint128"},{"name":"createdAt","type":"uint128"},{"name":"resourceIndex","type":"uint128"},{"name":"resourceName","type":{"string-utf8":{"length":50}}},{"name":"userIndex","type":"uint128"}]}},{"name":"RecentPayments","key":{"tuple":[{"name":"resourceIndex","type":"uint128"},{"name":"userIndex","type":"uint128"}]},"value":"uint128"},{"name":"ResourceData","key":"uint128","value":{"tuple":[{"name":"createdAt","type":"uint128"},{"name":"description","type":{"string-utf8":{"length":255}}},{"name":"enabled","type":"bool"},{"name":"name","type":{"string-utf8":{"length":50}}},{"name":"price","type":"uint128"},{"name":"totalSpent","type":"uint128"},{"name":"totalUsed","type":"uint128"},{"name":"url","type":{"optional":{"string-utf8":{"length":255}}}}]}},{"name":"ResourceIndexes","key":{"string-utf8":{"length":50}},"value":"uint128"},{"name":"UserData","key":"uint128","value":{"tuple":[{"name":"address","type":"principal"},{"name":"totalSpent","type":"uint128"},{"name":"totalUsed","type":"uint128"}]}},{"name":"UserIndexes","key":"principal","value":"uint128"}],"fungible_tokens":[],"non_fungible_tokens":[]},"sip9":false,"sip10":false,"commission":false,"operable":false}