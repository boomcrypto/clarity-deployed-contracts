{"address":"SPQVH3QWEJYRFN9H4XRK1M55EWM5YMNYMVJ65EHJ","name":"yield-rewards-sbtc-incentive-test-v2","block_height":481128,"burn_block_time_iso":"2025-01-18T23:20:08.000Z","contractInterface":{"functions":[{"name":"compute-and-update-balances-one-user","access":"private","args":[{"name":"address","type":"principal"},{"name":"current-total","type":"uint128"}],"outputs":{"type":"uint128"}},{"name":"distribute-reward-user","access":"private","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"enroll-defi-one","access":"private","args":[{"name":"entry","type":{"tuple":[{"name":"defi-contract","type":"principal"},{"name":"rewarded-address","type":{"optional":"principal"}}]}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"is-blacklisted","access":"private","args":[{"name":"address","type":"principal"}],"outputs":{"type":"bool"}},{"name":"remove-participant","access":"private","args":[{"name":"address","type":"principal"}],"outputs":{"type":"bool"}},{"name":"reset-state-for-cycle","access":"private","args":[{"name":"stx-block-height","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"update-snapshot-for-new-cycle","access":"private","args":[{"name":"stx-block-height","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"add-blacklisted","access":"public","args":[{"name":"address","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"add-blacklisted-batch","access":"public","args":[{"name":"addresses","type":{"list":{"type":"principal","length":200}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"response":{"ok":"bool","error":"uint128"}},"length":200}},"error":"uint128"}}}},{"name":"change-reward-address","access":"public","args":[{"name":"new-address","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"change-reward-address-defi","access":"public","args":[{"name":"defi-contract","type":"principal"},{"name":"new-reward-address","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"compute-current-snapshot-balances","access":"public","args":[{"name":"principals","type":{"list":{"type":"principal","length":900}}}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"conclude-cycle-snapshots","access":"public","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"distribute-rewards","access":"public","args":[{"name":"principals","type":{"list":{"type":"principal","length":900}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"response":{"ok":"bool","error":"uint128"}},"length":900}},"error":"uint128"}}}},{"name":"enroll","access":"public","args":[{"name":"rewarded-address","type":{"optional":"principal"}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"enroll-defi","access":"public","args":[{"name":"defi-contract","type":"principal"},{"name":"rewarded-address","type":{"optional":"principal"}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"enroll-defi-batch","access":"public","args":[{"name":"defi-contracts","type":{"list":{"type":{"tuple":[{"name":"defi-contract","type":"principal"},{"name":"rewarded-address","type":{"optional":"principal"}}]},"length":900}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"response":{"ok":"bool","error":"uint128"}},"length":900}},"error":"uint128"}}}},{"name":"extract-funds-safety","access":"public","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"finalize-reward-distribution","access":"public","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"head-to-next-cycle","access":"public","args":[{"name":"stx-block-height","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"head-to-next-snapshot","access":"public","args":[{"name":"new-stx-block-height","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"initialize-contract","access":"public","args":[{"name":"stx-block-height","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"opt-out","access":"public","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"opt-out-defi","access":"public","args":[{"name":"defi-contract","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"remove-blacklisted","access":"public","args":[{"name":"address","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"set-can-distribute-rewards","access":"public","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"update-APR","access":"public","args":[{"name":"new-apr-one-eight","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"update-admin","access":"public","args":[{"name":"new-admin-address","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"update-cycle-data","access":"public","args":[{"name":"updated-nr-snapshots-cycle","type":"uint128"},{"name":"updated-nr-blocks-snapshot","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"update-initialize-block","access":"public","args":[{"name":"new-tenure-height","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"update-min-hold-for-enrollment","access":"public","args":[{"name":"new-min-hold","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"update-nr-snapshots-cycle","access":"public","args":[{"name":"updated-nr-snapshots-cycle","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"update-snapshot-length","access":"public","args":[{"name":"updated-nr-blocks-snapshot","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"block-height-to-tenure-height","access":"read_only","args":[{"name":"stx-block-height","type":"uint128"}],"outputs":{"type":"uint128"}},{"name":"check-can-distribute-rewards","access":"read_only","args":[],"outputs":{"type":"bool"}},{"name":"check-new-cycle-valid-stacks-block-height","access":"read_only","args":[{"name":"stx-block-height","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"check-new-snapshot-valid-stacks-block-height","access":"read_only","args":[{"name":"stx-block-height","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"current-cycle-id","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"current-overview-data","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"cycle-id","type":"uint128"},{"name":"nr-snapshots-cycle","type":"uint128"},{"name":"snapshot-index","type":"uint128"}]}}},{"name":"cycle-data","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"current-cycle-stacks-block-height","type":"uint128"},{"name":"current-cycle-tenure-height","type":"uint128"},{"name":"current-snapshot-index","type":"uint128"},{"name":"cycle-id","type":"uint128"},{"name":"next-cycle-tenure-height","type":"uint128"},{"name":"nr-blocks-snapshot","type":"uint128"},{"name":"nr-snapshots-cycle","type":"uint128"},{"name":"participants-count","type":"uint128"}]}}},{"name":"cycle-percentage-rate","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-admin","access":"read_only","args":[],"outputs":{"type":"principal"}},{"name":"get-current-tenure-height","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-cycle-current-state","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"cycle-id","type":"uint128"},{"name":"first-tenure","type":"uint128"},{"name":"last-tenure","type":"uint128"}]}}},{"name":"get-is-blacklisted","access":"read_only","args":[{"name":"address","type":"principal"}],"outputs":{"type":"bool"}},{"name":"get-is-blacklisted-list","access":"read_only","args":[{"name":"addresses","type":{"list":{"type":"principal","length":900}}}],"outputs":{"type":{"list":{"type":"bool","length":900}}}},{"name":"get-is-contract-active","access":"read_only","args":[],"outputs":{"type":"bool"}},{"name":"get-latest-reward-address","access":"read_only","args":[{"name":"address","type":"principal"}],"outputs":{"type":{"optional":"principal"}}},{"name":"get-min-hold-for-enrollment","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-stacks-block-height-for-cycle-snapshot","access":"read_only","args":[{"name":"checked-cycle-id","type":"uint128"},{"name":"checked-snapshot-id","type":"uint128"}],"outputs":{"type":{"optional":"uint128"}}},{"name":"get-tenure-height-for-cycle-snapshot","access":"read_only","args":[{"name":"checked-cycle-id","type":"uint128"},{"name":"checked-snapshot-id","type":"uint128"}],"outputs":{"type":{"optional":"uint128"}}},{"name":"is-enrolled-in-next-cycle","access":"read_only","args":[{"name":"address","type":"principal"}],"outputs":{"type":"bool"}},{"name":"is-enrolled-this-cycle","access":"read_only","args":[{"name":"address","type":"principal"}],"outputs":{"type":"bool"}},{"name":"nr-cycles-year","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"reward-amount-for-cycle-and-address","access":"read_only","args":[{"name":"wanted-cycle-id","type":"uint128"},{"name":"address","type":"principal"}],"outputs":{"type":{"optional":"uint128"}}},{"name":"reward-amount-for-cycle-and-reward-address","access":"read_only","args":[{"name":"wanted-cycle-id","type":"uint128"},{"name":"reward-address","type":"principal"}],"outputs":{"type":{"optional":"uint128"}}},{"name":"rewarded-data","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"can-distribute-rewards","type":"bool"},{"name":"rewarded-count","type":"uint128"}]}}},{"name":"snapshot-data","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"current-snapshot-count","type":"uint128"},{"name":"current-snapshot-index","type":"uint128"},{"name":"current-snapshot-stacks-block-height","type":"uint128"},{"name":"current-snapshot-tenure-height","type":"uint128"},{"name":"current-snapshot-total","type":"uint128"},{"name":"nr-blocks-snapshot","type":"uint128"}]}}},{"name":"stx-block-height-distribution-finalized","access":"read_only","args":[{"name":"wanted-cycle-id","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"stx-block-height","type":"uint128"}]}}}},{"name":"tenure-height-for-next-state","access":"read_only","args":[],"outputs":{"type":"uint128"}}],"variables":[{"name":"APR_DECIMALS","type":"uint128","access":"constant"},{"name":"ERR_ACTIVATION_HEIGHT_NOT_MET","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_ALREADY_ENROLLED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_ALREADY_FINALIZED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_ALREADY_REWARDED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_APR_TOO_HIGH","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_APR_TOO_LOW","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_CANNOT_DISTRIBUTE_REWARDS","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_CANNOT_FINALIZE","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_CONTRACT_ALREADY_ACTIVE","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_CONTRACT_NOT_ACTIVE","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_CYCLE_ENDED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_CYCLE_ENDED_2","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_ENROLL_MINIMUM_HOLD_NOT_MET","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_NOT_ADMIN","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_NOT_ALL_SNAPSHOTS","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_NOT_ENROLLED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_NOT_NEW_CYCLE_YET","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_NOT_NEW_SNAPSHOT_YET","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_NOT_REWARDED_ALL","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_NOT_SNAPSHOTTED_ALL_PARTICIPANTS","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_NO_SBTC_BALANCE","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_REWARDS_NOT_SENT_YET","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_SET_CAN_DISTRIBUTE_ALREADY_CALLED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_SNAPSHOTS_ALREADY_CONCLUDED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_SNAPSHOTS_NOT_CONCLUDED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_STX_BLOCK_IN_FUTURE","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_STX_BLOCK_TOO_HIGH","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_STX_BLOCK_TOO_LOW","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR_USER_BLACKLISTED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"MAX_APR_ONE_EIGHT","type":"uint128","access":"constant"},{"name":"MIN_APR_ONE_EIGHT","type":"uint128","access":"constant"},{"name":"average-burn-blocks-year","type":"uint128","access":"constant"},{"name":"first_snapshot_new_cycle","type":"uint128","access":"constant"},{"name":"our-sbtc-address","type":"principal","access":"constant"},{"name":"APR","type":"uint128","access":"variable"},{"name":"admin","type":"principal","access":"variable"},{"name":"can-distribute-rewards","type":"bool","access":"variable"},{"name":"concluded-snapshots","type":"bool","access":"variable"},{"name":"current-cycle-participants-count","type":"uint128","access":"variable"},{"name":"current-cycle-stacks-block-height","type":"uint128","access":"variable"},{"name":"current-cycle-tenure-height","type":"uint128","access":"variable"},{"name":"current-cycle-total","type":"uint128","access":"variable"},{"name":"current-snapshot-count","type":"uint128","access":"variable"},{"name":"current-snapshot-index","type":"uint128","access":"variable"},{"name":"current-snapshot-stacks-block-height","type":"uint128","access":"variable"},{"name":"current-snapshot-tenure-height","type":"uint128","access":"variable"},{"name":"current-snapshot-total","type":"uint128","access":"variable"},{"name":"cycle-id","type":"uint128","access":"variable"},{"name":"is-contract-active","type":"bool","access":"variable"},{"name":"local-stx-id-header-hash","type":{"buffer":{"length":32}},"access":"variable"},{"name":"min-hold-for-enrollment","type":"uint128","access":"variable"},{"name":"next-APR","type":"uint128","access":"variable"},{"name":"next-cycle-tenure-height","type":"uint128","access":"variable"},{"name":"next-nr-blocks-snapshot","type":"uint128","access":"variable"},{"name":"next-nr-snapshots-cycle","type":"uint128","access":"variable"},{"name":"nr-blocks-snapshot","type":"uint128","access":"variable"},{"name":"nr-snapshots-cycle","type":"uint128","access":"variable"},{"name":"participants-count","type":"uint128","access":"variable"},{"name":"rewarded-count","type":"uint128","access":"variable"},{"name":"rewards-to-distribute","type":"uint128","access":"variable"}],"maps":[{"name":"blacklist","key":{"tuple":[{"name":"address","type":"principal"}]},"value":{"tuple":[{"name":"blacklisted","type":"bool"}]}},{"name":"cycle-snapshot-to-stx-block-height","key":{"tuple":[{"name":"cycle-id","type":"uint128"},{"name":"snapshot-id","type":"uint128"}]},"value":{"tuple":[{"name":"stx-block-height","type":"uint128"},{"name":"tenure-height-stored","type":"uint128"}]}},{"name":"distribution-finalized-stx-block-height-when-called","key":{"tuple":[{"name":"cycle-id","type":"uint128"}]},"value":{"tuple":[{"name":"stx-block-height","type":"uint128"}]}},{"name":"participant-holding","key":{"tuple":[{"name":"address","type":"principal"},{"name":"cycle-id","type":"uint128"}]},"value":{"tuple":[{"name":"amount","type":"uint128"},{"name":"last-snapshot","type":"uint128"},{"name":"reward-amount","type":"uint128"},{"name":"rewarded","type":"bool"}]}},{"name":"participants","key":{"tuple":[{"name":"address","type":"principal"}]},"value":{"tuple":[{"name":"rewarded-address","type":"principal"}]}},{"name":"rewards-holding","key":{"tuple":[{"name":"cycle-id","type":"uint128"},{"name":"rewarded-address","type":"principal"}]},"value":{"tuple":[{"name":"amount","type":"uint128"}]}}],"fungible_tokens":[],"non_fungible_tokens":[]},"sip9":false,"sip10":false,"commission":false,"operable":false}