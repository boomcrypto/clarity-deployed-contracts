{"address":"SP1SCEXE6PMGPAC6B4N5P2MDKX8V4GF9QDE1FNNGJ","name":"decentralized-stacking-pool","block_height":136438,"burn_block_time_iso":"2024-01-21T22:10:12.000Z","contractInterface":{"functions":[{"name":"batch-reward-distribution-one-block","access":"private","args":[{"name":"rewarded-burn-block","type":"uint128"}],"outputs":{"type":"uint128"}},{"name":"calculate-all-stackers-weights","access":"private","args":[{"name":"stackers-list-before-cycle","type":{"list":{"type":"principal","length":300}}},{"name":"next-reward-cycle","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"none"}}}},{"name":"calculate-one-stacker-weight","access":"private","args":[{"name":"stacker","type":"principal"}],"outputs":{"type":"bool"}},{"name":"check-and-delegate-stack-stx","access":"private","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"check-can-decrement-delegated-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"check-can-decrement-locked-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"check-can-decrement-owned-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"check-can-decrement-reserved-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"check-can-decrement-total-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"check-is-liquidity-provider","access":"private","args":[{"name":"address","type":"principal"}],"outputs":{"type":"bool"}},{"name":"check-is-stacker","access":"private","args":[{"name":"address","type":"principal"}],"outputs":{"type":"bool"}},{"name":"check-won-block-rewards","access":"private","args":[{"name":"burn-height","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"check-won-block-rewards-one-block","access":"private","args":[{"name":"burn-height","type":"uint128"}],"outputs":{"type":"uint128"}},{"name":"decrement-sc-delegated-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"decrement-sc-locked-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"decrement-sc-owned-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"decrement-sc-reserved-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"delegate-stack-extend-increase","access":"private","args":[{"name":"user","type":"principal"},{"name":"amount-ustx","type":"uint128"},{"name":"pox-address","type":{"tuple":[{"name":"hashbytes","type":{"buffer":{"length":32}}},{"name":"version","type":{"buffer":{"length":1}}}]}},{"name":"start-burn-ht","type":"uint128"}],"outputs":{"type":{"response":{"ok":{"tuple":[{"name":"lock-amount","type":"uint128"},{"name":"stacker","type":"principal"},{"name":"unlock-burn-height","type":"uint128"}]},"error":"uint128"}}}},{"name":"delegate-stx-inner","access":"private","args":[{"name":"amount-ustx","type":"uint128"},{"name":"delegate-to","type":"principal"},{"name":"until-burn-ht","type":{"optional":"uint128"}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"div-down","access":"private","args":[{"name":"a","type":"uint128"},{"name":"b","type":"uint128"}],"outputs":{"type":"uint128"}},{"name":"get-next-reward-cycle","access":"private","args":[],"outputs":{"type":"uint128"}},{"name":"increment-sc-delegated-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"increment-sc-locked-balance","access":"private","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"is-prepare-phase","access":"private","args":[{"name":"next-reward-cycle-first-block","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"lock-delegated-stx","access":"private","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"response":{"ok":{"tuple":[{"name":"lock-amount","type":"uint128"},{"name":"stacker","type":"principal"},{"name":"unlock-burn-height","type":"uint128"}]},"error":"uint128"}}}},{"name":"maybe-stack-aggregation-commit","access":"private","args":[{"name":"current-cycle","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"min","access":"private","args":[{"name":"amount-1","type":"uint128"},{"name":"amount-2","type":"uint128"}],"outputs":{"type":"uint128"}},{"name":"minus-percent","access":"private","args":[{"name":"a","type":"uint128"},{"name":"percent","type":"uint128"}],"outputs":{"type":"uint128"}},{"name":"mul-down","access":"private","args":[{"name":"a","type":"uint128"},{"name":"b","type":"uint128"}],"outputs":{"type":"uint128"}},{"name":"preview-exchange-reward","access":"private","args":[{"name":"sats-amount","type":"uint128"},{"name":"slippeage","type":"uint128"}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"register-block-reward","access":"private","args":[{"name":"burn-height","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"remove-stacker-stackers-list","access":"private","args":[{"name":"address","type":"principal"}],"outputs":{"type":"bool"}},{"name":"to-one-8","access":"private","args":[{"name":"a","type":"uint128"}],"outputs":{"type":"uint128"}},{"name":"transfer-reward-one-stacker","access":"private","args":[{"name":"stacker","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"transfer-rewards-all-stackers","access":"private","args":[{"name":"stackers-list-before-cycle","type":{"list":{"type":"principal","length":300}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"response":{"ok":"bool","error":"uint128"}},"length":300}},"error":"uint128"}}}},{"name":"weight-calculator","access":"private","args":[{"name":"stacker-locked","type":"uint128"},{"name":"total-locked","type":"uint128"},{"name":"liquidity-provider-locked","type":"uint128"}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"allow-contract-caller","access":"public","args":[{"name":"caller","type":"principal"},{"name":"until-burn-ht","type":{"optional":"uint128"}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"batch-reward-distribution","access":"public","args":[{"name":"burn-block-list","type":{"list":{"type":"uint128","length":300}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":"uint128","length":300}},"error":"none"}}}},{"name":"delegate-stack-stx","access":"public","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"delegate-stack-stx-many","access":"public","args":[{"name":"stackers-lock-list","type":{"list":{"type":"principal","length":100}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"response":{"ok":"bool","error":"uint128"}},"length":100}},"error":"none"}}}},{"name":"delegate-stx","access":"public","args":[{"name":"amount-ustx","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"deposit-stx-liquidity-provider","access":"public","args":[{"name":"amount","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"disallow-contract-caller","access":"public","args":[{"name":"caller","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"join-stacking-pool","access":"public","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"multiple-blocks-check-won-rewards","access":"public","args":[{"name":"burn-heights-list","type":{"list":{"type":"uint128","length":100}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":"bool","length":100}},"error":"none"}}}},{"name":"quit-stacking-pool","access":"public","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"reserve-funds-future-rewards","access":"public","args":[{"name":"amount","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"reward-distribution","access":"public","args":[{"name":"rewarded-burn-block","type":"uint128"}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"response":{"ok":"bool","error":"uint128"}},"length":300}},"error":"uint128"}}}},{"name":"set-active","access":"public","args":[{"name":"is-active","type":"bool"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"set-pool-pox-address","access":"public","args":[{"name":"new-pool-pox-address","type":{"tuple":[{"name":"hashbytes","type":{"buffer":{"length":32}}},{"name":"version","type":{"buffer":{"length":1}}}]}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"swap-preview","access":"public","args":[{"name":"token-x-trait","type":"trait_reference"},{"name":"token-y-trait","type":"trait_reference"},{"name":"multiplied-amount","type":"uint128"},{"name":"slippeage","type":"uint128"}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"unlock-extra-reserved-funds","access":"public","args":[],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"update-return","access":"public","args":[{"name":"new-return-value","type":"uint128"}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"update-sc-balances","access":"public","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"update-sc-balances-one-stacker","access":"public","args":[{"name":"stacker","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"none"}}}},{"name":"withdraw-stx-liquidity-provider","access":"public","args":[{"name":"amount","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"already-rewarded-burn-block","access":"read_only","args":[{"name":"burn-height","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"calculate-extra-reserved-funds","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"can-lock-now","access":"read_only","args":[{"name":"cycle","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"can-withdraw-extra-reserved-now","access":"read_only","args":[],"outputs":{"type":"bool"}},{"name":"check-caller-allowed","access":"read_only","args":[],"outputs":{"type":"bool"}},{"name":"check-pool-SC-pox-allowance","access":"read_only","args":[],"outputs":{"type":"bool"}},{"name":"check-won-block-rewards-batch","access":"read_only","args":[{"name":"burn-blocks-list","type":{"list":{"type":"uint128","length":300}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":"uint128","length":300}},"error":"none"}}}},{"name":"get-SC-locked-balance","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-SC-owned-balance","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-SC-reserved-balance","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-SC-total-balance","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-address-status","access":"read_only","args":[{"name":"address","type":"principal"}],"outputs":{"type":{"response":{"ok":{"string-ascii":{"length":11}},"error":"none"}}}},{"name":"get-amount-rewarded","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-block-rewards","access":"read_only","args":[{"name":"burn-height","type":"uint128"}],"outputs":{"type":{"response":{"ok":{"optional":{"tuple":[{"name":"addrs","type":{"list":{"type":{"tuple":[{"name":"hashbytes","type":{"buffer":{"length":32}}},{"name":"version","type":{"buffer":{"length":1}}}]},"length":2}}},{"name":"payout","type":"uint128"}]}},"error":"none"}}}},{"name":"get-blocks-rewarded","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-check-delegation","access":"read_only","args":[{"name":"stacker","type":"principal"}],"outputs":{"type":{"optional":{"tuple":[{"name":"amount-ustx","type":"uint128"},{"name":"delegated-to","type":"principal"},{"name":"pox-addr","type":{"optional":{"tuple":[{"name":"hashbytes","type":{"buffer":{"length":32}}},{"name":"version","type":{"buffer":{"length":1}}}]}}},{"name":"until-burn-ht","type":{"optional":"uint128"}}]}}}},{"name":"get-delegated-amount","access":"read_only","args":[{"name":"user","type":"principal"}],"outputs":{"type":"uint128"}},{"name":"get-liquidity-provider","access":"read_only","args":[],"outputs":{"type":"principal"}},{"name":"get-minimum-deposit-liquidity-provider","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-pool-members","access":"read_only","args":[],"outputs":{"type":{"list":{"type":"principal","length":300}}}},{"name":"get-pox-addr-indices","access":"read_only","args":[{"name":"reward-cycle","type":"uint128"}],"outputs":{"type":{"optional":"uint128"}}},{"name":"get-prepare-phase-length","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-return","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-reward-phase-length","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-stacker-weight","access":"read_only","args":[{"name":"stacker","type":"principal"},{"name":"reward-cycle","type":"uint128"}],"outputs":{"type":{"optional":"uint128"}}},{"name":"get-stx-account","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"locked","type":"uint128"},{"name":"unlock-height","type":"uint128"},{"name":"unlocked","type":"uint128"}]}}},{"name":"get-user-data","access":"read_only","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"optional":{"tuple":[{"name":"delegated-balance","type":"uint128"},{"name":"is-in-pool","type":"bool"},{"name":"locked-balance","type":"uint128"},{"name":"until-burn-ht","type":{"optional":"uint128"}}]}}}},{"name":"has-won-burn-block","access":"read_only","args":[{"name":"burn-height","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"is-in-pool","access":"read_only","args":[],"outputs":{"type":"bool"}},{"name":"updated-balances-given-cycle","access":"read_only","args":[{"name":"given-cycle","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"was-block-claimed","access":"read_only","args":[{"name":"rewarded-burn-block","type":"uint128"}],"outputs":{"type":{"optional":{"tuple":[{"name":"value","type":"bool"}]}}}}],"variables":[{"name":"ONE-6","type":"uint128","access":"constant"},{"name":"ONE_8","type":"uint128","access":"constant"},{"name":"PREPARE_CYCLE_LENGTH","type":"uint128","access":"constant"},{"name":"REWARD_CYCLE_LENGTH","type":"uint128","access":"constant"},{"name":"blocks-to-pass-until-reward","type":"uint128","access":"constant"},{"name":"err-allow-pool-in-SC-first","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-allow-pool-in-pox-3-first","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-already-in-pool","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-already-rewarded-block","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-already-updated-balances","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-cant-calculate-weights","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-cant-unwrap-exchange-preview","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-cant-withdraw-now","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-decrease-forbidden","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-disallow-pool-in-pox-3-first","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-full-stacking-pool","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-future-reward-not-covered","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-insufficient-funds","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-liquidity-provider-not-permitted","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-no-locked-funds","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-no-reward-for-this-block","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-no-reward-yet","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-not-delegated-before","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-not-delegated-that-amount","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-not-enough-reserved-balance","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-not-in-pool","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-only-liquidity-provider","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-pox-address-deactivated","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-return-div-exceeds-maximum","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-revoke-delegation-in-pox-first","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-same-value","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-stacking-permission-denied","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-too-early","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-too-late","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-transfer-failed","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-weights-not-calculated","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"err-wrong-moment-to-update-balances","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"first-deposit","type":"uint128","access":"constant"},{"name":"half-cycle-length","type":"uint128","access":"constant"},{"name":"list-max-len","type":"uint128","access":"constant"},{"name":"maintenance","type":"uint128","access":"constant"},{"name":"max-return-div-accepted","type":"uint128","access":"constant"},{"name":"minimum-deposit-amount-liquidity-provider","type":"uint128","access":"constant"},{"name":"pool-contract","type":"principal","access":"constant"},{"name":"pox-contract","type":"principal","access":"constant"},{"name":"active","type":"bool","access":"variable"},{"name":"amount-rewarded","type":"uint128","access":"variable"},{"name":"blocks-rewarded","type":"uint128","access":"variable"},{"name":"burn-block-to-distribute-rewards","type":"uint128","access":"variable"},{"name":"calc-delegated-balance","type":"uint128","access":"variable"},{"name":"calc-locked-balance","type":"uint128","access":"variable"},{"name":"liquidity-provider","type":"principal","access":"variable"},{"name":"pool-pox-address","type":{"tuple":[{"name":"hashbytes","type":{"buffer":{"length":32}}},{"name":"version","type":{"buffer":{"length":1}}}]},"access":"variable"},{"name":"return-div","type":"uint128","access":"variable"},{"name":"reward-cycle-to-calculate-weight","type":"uint128","access":"variable"},{"name":"reward-cycle-to-distribute-rewards","type":"uint128","access":"variable"},{"name":"sc-delegated-balance","type":"uint128","access":"variable"},{"name":"sc-locked-balance","type":"uint128","access":"variable"},{"name":"sc-owned-balance","type":"uint128","access":"variable"},{"name":"sc-reserved-balance","type":"uint128","access":"variable"},{"name":"sc-total-balance","type":"uint128","access":"variable"},{"name":"stackers-list","type":{"list":{"type":"principal","length":300}},"access":"variable"},{"name":"stx-buffer","type":"uint128","access":"variable"},{"name":"temp-current-reward","type":"uint128","access":"variable"}],"maps":[{"name":"allowance-contract-callers","key":{"tuple":[{"name":"contract-caller","type":"principal"},{"name":"sender","type":"principal"}]},"value":{"tuple":[{"name":"until-burn-ht","type":{"optional":"uint128"}}]}},{"name":"already-rewarded","key":{"tuple":[{"name":"burn-block-height","type":"uint128"}]},"value":{"tuple":[{"name":"value","type":"bool"}]}},{"name":"burn-block-rewards","key":{"tuple":[{"name":"burn-height","type":"uint128"}]},"value":{"tuple":[{"name":"reward","type":"uint128"}]}},{"name":"calculated-weights-reward-cycles","key":{"tuple":[{"name":"reward-cycle","type":"uint128"}]},"value":{"tuple":[{"name":"calculated","type":"bool"}]}},{"name":"last-aggregation","key":"uint128","value":"uint128"},{"name":"pox-addr-indices","key":"uint128","value":"uint128"},{"name":"stacker-weights-per-reward-cycle","key":{"tuple":[{"name":"reward-cycle","type":"uint128"},{"name":"stacker","type":"principal"}]},"value":{"tuple":[{"name":"weight-percentage","type":"uint128"}]}},{"name":"updated-sc-balances","key":{"tuple":[{"name":"reward-cycle","type":"uint128"}]},"value":{"tuple":[{"name":"stackers-list","type":{"list":{"type":"principal","length":300}}},{"name":"updated","type":"bool"}]}},{"name":"user-data","key":{"tuple":[{"name":"address","type":"principal"}]},"value":{"tuple":[{"name":"delegated-balance","type":"uint128"},{"name":"is-in-pool","type":"bool"},{"name":"locked-balance","type":"uint128"},{"name":"until-burn-ht","type":{"optional":"uint128"}}]}},{"name":"user-revoked-delegation","key":"principal","value":"bool"}],"fungible_tokens":[],"non_fungible_tokens":[]},"sip9":false,"sip10":false,"commission":false,"operable":false}