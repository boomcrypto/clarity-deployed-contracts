{"address":"SP1JWJ6V97FNCKFVDGCNM1Q4CJJAJ8WKQV2KJK6X7","name":"king-sbtc-vault","block_height":710642,"burn_block_time_iso":"2025-03-04T16:51:20.000Z","contractInterface":{"functions":[{"name":"check-ok","access":"private","args":[{"name":"result","type":{"response":{"ok":"uint128","error":"uint128"}}},{"name":"prev","type":"bool"}],"outputs":{"type":"bool"}},{"name":"deposit-token","access":"private","args":[{"name":"token","type":"trait_reference"},{"name":"amount","type":"uint128"},{"name":"sender","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"execute-single-swap","access":"private","args":[{"name":"swap-instruction","type":{"tuple":[{"name":"dx","type":"uint128"},{"name":"factor-w","type":{"optional":"uint128"}},{"name":"factor-x","type":"uint128"},{"name":"factor-y","type":{"optional":"uint128"}},{"name":"factor-z","type":{"optional":"uint128"}},{"name":"helper","type":"uint128"},{"name":"min","type":{"optional":"uint128"}},{"name":"token-v","type":{"optional":"trait_reference"}},{"name":"token-w","type":{"optional":"trait_reference"}},{"name":"token-x","type":"trait_reference"},{"name":"token-y","type":"trait_reference"},{"name":"token-z","type":{"optional":"trait_reference"}}]}}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"execute-swap-routes","access":"private","args":[{"name":"routes","type":{"list":{"type":{"tuple":[{"name":"dx","type":"uint128"},{"name":"factor-w","type":{"optional":"uint128"}},{"name":"factor-x","type":"uint128"},{"name":"factor-y","type":{"optional":"uint128"}},{"name":"factor-z","type":{"optional":"uint128"}},{"name":"helper","type":"uint128"},{"name":"min","type":{"optional":"uint128"}},{"name":"token-v","type":{"optional":"trait_reference"}},{"name":"token-w","type":{"optional":"trait_reference"}},{"name":"token-x","type":"trait_reference"},{"name":"token-y","type":"trait_reference"},{"name":"token-z","type":{"optional":"trait_reference"}}]},"length":10}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"response":{"ok":"uint128","error":"uint128"}},"length":10}},"error":"uint128"}}}},{"name":"get-actual-from-swap","access":"private","args":[{"name":"swap-responses","type":{"list":{"type":{"response":{"ok":"uint128","error":"uint128"}},"length":10}}}],"outputs":{"type":"uint128"}},{"name":"get-actual-from-swap-inner","access":"private","args":[{"name":"response","type":{"response":{"ok":"uint128","error":"uint128"}}}],"outputs":{"type":"uint128"}},{"name":"get-asset-weight","access":"private","args":[{"name":"asset","type":"principal"}],"outputs":{"type":"uint128"}},{"name":"get-token-x-from-route","access":"private","args":[{"name":"route","type":{"tuple":[{"name":"dx","type":"uint128"},{"name":"factor-w","type":{"optional":"uint128"}},{"name":"factor-x","type":"uint128"},{"name":"factor-y","type":{"optional":"uint128"}},{"name":"factor-z","type":{"optional":"uint128"}},{"name":"helper","type":"uint128"},{"name":"min","type":{"optional":"uint128"}},{"name":"token-v","type":{"optional":"trait_reference"}},{"name":"token-w","type":{"optional":"trait_reference"}},{"name":"token-x","type":"trait_reference"},{"name":"token-y","type":"trait_reference"},{"name":"token-z","type":{"optional":"trait_reference"}}]}}],"outputs":{"type":"trait_reference"}},{"name":"get-user-percentage","access":"private","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"get-user-token-amount","access":"private","args":[{"name":"user-percentage","type":"uint128"},{"name":"token","type":"trait_reference"}],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-weight","access":"private","args":[{"name":"asset","type":"principal"}],"outputs":{"type":{"response":{"ok":{"tuple":[{"name":"asset","type":"principal"},{"name":"weight","type":"uint128"}]},"error":"none"}}}},{"name":"set-approved-asset","access":"private","args":[{"name":"asset","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"validate-route-amount","access":"private","args":[{"name":"route","type":{"tuple":[{"name":"dx","type":"uint128"},{"name":"factor-w","type":{"optional":"uint128"}},{"name":"factor-x","type":"uint128"},{"name":"factor-y","type":{"optional":"uint128"}},{"name":"factor-z","type":{"optional":"uint128"}},{"name":"helper","type":"uint128"},{"name":"min","type":{"optional":"uint128"}},{"name":"token-v","type":{"optional":"trait_reference"}},{"name":"token-w","type":{"optional":"trait_reference"}},{"name":"token-x","type":"trait_reference"},{"name":"token-y","type":"trait_reference"},{"name":"token-z","type":{"optional":"trait_reference"}}]}},{"name":"valid","type":"bool"}],"outputs":{"type":"bool"}},{"name":"validate-token-amounts","access":"private","args":[{"name":"swap-routes","type":{"list":{"type":{"tuple":[{"name":"dx","type":"uint128"},{"name":"factor-w","type":{"optional":"uint128"}},{"name":"factor-x","type":"uint128"},{"name":"factor-y","type":{"optional":"uint128"}},{"name":"factor-z","type":{"optional":"uint128"}},{"name":"helper","type":"uint128"},{"name":"min","type":{"optional":"uint128"}},{"name":"token-v","type":{"optional":"trait_reference"}},{"name":"token-w","type":{"optional":"trait_reference"}},{"name":"token-x","type":"trait_reference"},{"name":"token-y","type":"trait_reference"},{"name":"token-z","type":{"optional":"trait_reference"}}]},"length":10}}},{"name":"percentage","type":"uint128"}],"outputs":{"type":"bool"}},{"name":"validate-token-eq-token","access":"private","args":[{"name":"token-x","type":"trait_reference"},{"name":"acc","type":"bool"}],"outputs":{"type":"bool"}},{"name":"withdraw-token","access":"private","args":[{"name":"token","type":"trait_reference"},{"name":"amount","type":"uint128"},{"name":"recipient","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"add-approved-user","access":"public","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"purchase","access":"public","args":[{"name":"token","type":"trait_reference"},{"name":"amount","type":"uint128"},{"name":"min-shares","type":"uint128"},{"name":"swap-routes","type":{"list":{"type":{"tuple":[{"name":"dx","type":"uint128"},{"name":"factor-w","type":{"optional":"uint128"}},{"name":"factor-x","type":"uint128"},{"name":"factor-y","type":{"optional":"uint128"}},{"name":"factor-z","type":{"optional":"uint128"}},{"name":"helper","type":"uint128"},{"name":"min","type":{"optional":"uint128"}},{"name":"token-v","type":{"optional":"trait_reference"}},{"name":"token-w","type":{"optional":"trait_reference"}},{"name":"token-x","type":"trait_reference"},{"name":"token-y","type":"trait_reference"},{"name":"token-z","type":{"optional":"trait_reference"}}]},"length":10}}}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"rebalance","access":"public","args":[{"name":"swap-routes","type":{"list":{"type":{"tuple":[{"name":"dx","type":"uint128"},{"name":"factor-w","type":{"optional":"uint128"}},{"name":"factor-x","type":"uint128"},{"name":"factor-y","type":{"optional":"uint128"}},{"name":"factor-z","type":{"optional":"uint128"}},{"name":"helper","type":"uint128"},{"name":"min","type":{"optional":"uint128"}},{"name":"token-v","type":{"optional":"trait_reference"}},{"name":"token-w","type":{"optional":"trait_reference"}},{"name":"token-x","type":"trait_reference"},{"name":"token-y","type":"trait_reference"},{"name":"token-z","type":{"optional":"trait_reference"}}]},"length":10}}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"redeem","access":"public","args":[{"name":"token","type":"trait_reference"},{"name":"percentage","type":"uint128"},{"name":"swap-routes","type":{"list":{"type":{"tuple":[{"name":"dx","type":"uint128"},{"name":"factor-w","type":{"optional":"uint128"}},{"name":"factor-x","type":"uint128"},{"name":"factor-y","type":{"optional":"uint128"}},{"name":"factor-z","type":{"optional":"uint128"}},{"name":"helper","type":"uint128"},{"name":"min","type":{"optional":"uint128"}},{"name":"token-v","type":{"optional":"trait_reference"}},{"name":"token-w","type":{"optional":"trait_reference"}},{"name":"token-x","type":"trait_reference"},{"name":"token-y","type":"trait_reference"},{"name":"token-z","type":{"optional":"trait_reference"}}]},"length":10}}}],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"remove-approved-user","access":"public","args":[{"name":"user","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"remove-token","access":"public","args":[{"name":"token","type":"trait_reference"},{"name":"amount","type":"uint128"},{"name":"recipient","type":"principal"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"set-asset-weight","access":"public","args":[{"name":"asset","type":"principal"},{"name":"weight","type":"uint128"}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"set-weights-and-rebalance","access":"public","args":[{"name":"sbtc-weight","type":"uint128"},{"name":"ststx-weight","type":"uint128"},{"name":"usd-weight","type":"uint128"},{"name":"swap-routes","type":{"list":{"type":{"tuple":[{"name":"dx","type":"uint128"},{"name":"factor-w","type":{"optional":"uint128"}},{"name":"factor-x","type":"uint128"},{"name":"factor-y","type":{"optional":"uint128"}},{"name":"factor-z","type":{"optional":"uint128"}},{"name":"helper","type":"uint128"},{"name":"min","type":{"optional":"uint128"}},{"name":"token-v","type":{"optional":"trait_reference"}},{"name":"token-w","type":{"optional":"trait_reference"}},{"name":"token-x","type":"trait_reference"},{"name":"token-y","type":"trait_reference"},{"name":"token-z","type":{"optional":"trait_reference"}}]},"length":10}}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"toggle-pause","access":"public","args":[],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"transfer","access":"public","args":[{"name":"amount","type":"uint128"},{"name":"sender","type":"principal"},{"name":"recipient","type":"principal"},{"name":"memo","type":{"optional":{"buffer":{"length":34}}}}],"outputs":{"type":{"response":{"ok":"bool","error":"uint128"}}}},{"name":"get-balance","access":"read_only","args":[{"name":"who","type":"principal"}],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-balance-sbtc","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-balance-ststx","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-balance-usd","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-decimals","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-destination-token-from-route","access":"read_only","args":[{"name":"route","type":{"tuple":[{"name":"dx","type":"uint128"},{"name":"factor-w","type":{"optional":"uint128"}},{"name":"factor-x","type":"uint128"},{"name":"factor-y","type":{"optional":"uint128"}},{"name":"factor-z","type":{"optional":"uint128"}},{"name":"helper","type":"uint128"},{"name":"min","type":{"optional":"uint128"}},{"name":"token-v","type":{"optional":"trait_reference"}},{"name":"token-w","type":{"optional":"trait_reference"}},{"name":"token-x","type":"trait_reference"},{"name":"token-y","type":"trait_reference"},{"name":"token-z","type":{"optional":"trait_reference"}}]}}],"outputs":{"type":"trait_reference"}},{"name":"get-holdings","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"sbtc","type":{"response":{"ok":"uint128","error":"none"}}},{"name":"ststx","type":{"response":{"ok":"uint128","error":"none"}}},{"name":"usd","type":{"response":{"ok":"uint128","error":"none"}}}]}}},{"name":"get-name","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":{"string-ascii":{"length":32}},"error":"none"}}}},{"name":"get-nav","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-nav-at-block","access":"read_only","args":[{"name":"block","type":"uint128"}],"outputs":{"type":{"tuple":[{"name":"block","type":"uint128"},{"name":"nav","type":"uint128"}]}}},{"name":"get-nav-history","access":"read_only","args":[{"name":"blocks","type":{"list":{"type":"uint128","length":50}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"tuple":[{"name":"block","type":"uint128"},{"name":"nav","type":"uint128"}]},"length":50}},"error":"none"}}}},{"name":"get-price","access":"read_only","args":[{"name":"token","type":{"string-ascii":{"length":12}}}],"outputs":{"type":{"tuple":[{"name":"decimals","type":"uint128"},{"name":"last-block","type":"uint128"},{"name":"last-price","type":"uint128"}]}}},{"name":"get-price-at-block","access":"read_only","args":[{"name":"block","type":"uint128"}],"outputs":{"type":{"tuple":[{"name":"block","type":"uint128"},{"name":"price","type":{"response":{"ok":"uint128","error":"uint128"}}}]}}},{"name":"get-price-history","access":"read_only","args":[{"name":"blocks","type":{"list":{"type":"uint128","length":50}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"tuple":[{"name":"block","type":"uint128"},{"name":"price","type":{"response":{"ok":"uint128","error":"uint128"}}}]},"length":50}},"error":"none"}}}},{"name":"get-price-sbtc","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-price-ststx","access":"read_only","args":[],"outputs":{"type":"uint128"}},{"name":"get-prices","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"sbtc","type":"uint128"},{"name":"ststx","type":"uint128"},{"name":"usd","type":"uint128"}]}}},{"name":"get-symbol","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":{"string-ascii":{"length":32}},"error":"none"}}}},{"name":"get-token-price","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":"uint128","error":"uint128"}}}},{"name":"get-token-uri","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":{"optional":{"string-utf8":{"length":256}}},"error":"none"}}}},{"name":"get-total-supply","access":"read_only","args":[],"outputs":{"type":{"response":{"ok":"uint128","error":"none"}}}},{"name":"get-values-usd","access":"read_only","args":[],"outputs":{"type":{"tuple":[{"name":"sbtc","type":"uint128"},{"name":"ststx","type":"uint128"},{"name":"usd","type":"uint128"}]}}},{"name":"get-weight-history","access":"read_only","args":[{"name":"blocks","type":{"list":{"type":"uint128","length":50}}}],"outputs":{"type":{"response":{"ok":{"list":{"type":{"tuple":[{"name":"block","type":"uint128"},{"name":"weights","type":{"list":{"type":{"response":{"ok":{"tuple":[{"name":"asset","type":"principal"},{"name":"weight","type":"uint128"}]},"error":"none"}},"length":3}}}]},"length":50}},"error":"none"}}}},{"name":"get-weights","access":"read_only","args":[],"outputs":{"type":{"list":{"type":{"response":{"ok":{"tuple":[{"name":"asset","type":"principal"},{"name":"weight","type":"uint128"}]},"error":"none"}},"length":3}}}},{"name":"get-weights-at-block","access":"read_only","args":[{"name":"block","type":"uint128"}],"outputs":{"type":{"tuple":[{"name":"block","type":"uint128"},{"name":"weights","type":{"list":{"type":{"response":{"ok":{"tuple":[{"name":"asset","type":"principal"},{"name":"weight","type":"uint128"}]},"error":"none"}},"length":3}}}]}}},{"name":"is-approved-user","access":"read_only","args":[{"name":"user","type":"principal"}],"outputs":{"type":"bool"}},{"name":"is-balanced","access":"read_only","args":[],"outputs":{"type":"bool"}}],"variables":[{"name":"APPROVED-ASSETS","type":{"list":{"type":"principal","length":3}},"access":"constant"},{"name":"DEPLOYER","type":"principal","access":"constant"},{"name":"ERR-INSUFFICIENT-BALANCE","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-INSUFFICIENT-MINT","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-INVALID-AMOUNT","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-INVALID-NAV-WEIGHTS","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-INVALID-PERCENTAGE","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-INVALID-TOKEN","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-NOT-AUTHORIZED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-PAUSED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-SUPPLY-ERROR","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-SWAP-FAILED","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-UNSUPPORTED-ASSET","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ERR-UNSUPPORTED-SWAP","type":{"response":{"ok":"none","error":"uint128"}},"access":"constant"},{"name":"ONE_8","type":"uint128","access":"constant"},{"name":"SUSDT","type":"principal","access":"constant"},{"name":"VAULT","type":"principal","access":"constant"},{"name":"WSBTC","type":"principal","access":"constant"},{"name":"WSTSTX","type":"principal","access":"constant"},{"name":"is-paused","type":"bool","access":"variable"},{"name":"token-decimals","type":"uint128","access":"variable"},{"name":"token-name","type":{"string-ascii":{"length":32}},"access":"variable"},{"name":"token-symbol","type":{"string-ascii":{"length":32}},"access":"variable"},{"name":"token-to-validate","type":"principal","access":"variable"},{"name":"token-uri","type":{"optional":{"string-utf8":{"length":256}}},"access":"variable"}],"maps":[{"name":"approved-assets","key":"principal","value":"bool"},{"name":"approved-users","key":"principal","value":"bool"},{"name":"asset-weights","key":"principal","value":"uint128"}],"fungible_tokens":[{"name":"beautiful-tan-cricket"}],"non_fungible_tokens":[]},"sip9":false,"sip10":true,"commission":false,"operable":false}