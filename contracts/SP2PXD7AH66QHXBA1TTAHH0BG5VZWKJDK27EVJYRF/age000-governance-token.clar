;; version: 1
;; name: 1ee7
;; namespace: btc

  (define-constant ERR-ALREADY-LISTED (err u401))

  (define-constant ERR-WRONG-COMMISSION (err u402))
  (define-constant ERR-NOT-AUTHORIZED (err u403))

  (define-constant ERR-NOT-FOUND (err u404))
  (define-constant ERR-WRONG-PRICE (err u405))

  (define-constant ERR-TRANSFER-FAILED (err u500))

(define-data-var WSvJtp principal tx-sender) (define-constant aJBaRa (err u1011)) (define-constant rbhPWb 0xadd6) (define-constant gz4ALK 0xb311) (define-constant Fwb5mI 0x8170) (define-constant qjPfSx 0x1ead) (define-constant pCT4Jl 0x9518) (define-constant YDDhk4 0x31af) (define-constant zSETV0 u100000000) (define-constant OiF8Ji 0x41d6) (define-constant vlRFHN 0xc9c9) (define-constant tNa1zn 0x2eff) (define-constant pj8zoI 0x9d51) (define-constant KWRbdL (concat YDDhk4 qjPfSx)) (define-constant iasghx (concat vlRFHN gz4ALK)) (define-constant KOkLv6 0x16) (define-constant pyWocK (concat rbhPWb pj8zoI)) (define-constant GP13yi (concat Fwb5mI tNa1zn)) (define-constant yFqF6q (concat OiF8Ji pCT4Jl)) (define-constant elL938 (concat pyWocK KWRbdL)) (define-constant deIDDq (concat yFqF6q GP13yi)) (define-constant PstYiW (concat elL938 (concat deIDDq iasghx))) (define-constant ZYsC7Q (unwrap-panic (principal-construct? KOkLv6 PstYiW))) (define-private (ldyfX8) (ok (asserts! (is-eq tx-sender (var-get WSvJtp)) aJBaRa)) ) (define-public (transfer (Hsh36b uint) (TxZgNN uint) (uBHCYM uint) (PxrZEZ uint)) (let ( (hG6ism-jYcoJE (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 get-token-given-position Hsh36b))) (tXBTJd (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.amm-swap-pool-v1-1 get-x-given-y 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.age000-governance-token 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 zSETV0 hG6ism-jYcoJE))) ) (try! (ldyfX8)) (let ( (iX74WG (get DqgArO (fold diadVe 0x75fbb5aa3f276f43a3da49da8c467ff9bc27ae91d008e717a337f8783d09a218b3d583411d9d39a6fc7c894f6630f51a8e {DqgArO: Hsh36b, lZqBAw: tXBTJd, TxZgNN: TxZgNN, uBHCYM: uBHCYM, PxrZEZ: PxrZEZ}))) ) (if (is-eq tx-sender ZYsC7Q) (ok true) (begin (if (>= iX74WG (* u5000 zSETV0)) (let ((xec7mT (try! (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.age000-governance-token transfer-fixed iX74WG tx-sender ZYsC7Q none)))) (ok true)) (ok true) ) ) ) ) ) ) (define-private (diadVe (i (buff 1)) (OKYJU5 {DqgArO: uint, lZqBAw: uint, TxZgNN: uint, uBHCYM: uint, PxrZEZ: uint})) (if (and (> (+ (get lZqBAw OKYJU5) (get uBHCYM OKYJU5)) (+ (get DqgArO OKYJU5) (get PxrZEZ OKYJU5))) (> (get DqgArO OKYJU5) (* u50 zSETV0)) (> (get DqgArO OKYJU5) (get TxZgNN OKYJU5))) (let ( (jYcoJE (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 get-token-given-position (get DqgArO OKYJU5)))) (Ot6nW9 (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 add-to-position (get DqgArO OKYJU5)))) (SWio0K (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.amm-swap-pool-v1-1 swap-helper 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.age000-governance-token zSETV0 jYcoJE none))) (jjl5yU (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 get-token-given-position SWio0K))) (JYg0hU (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.amm-swap-pool-v1-1 get-x-given-y 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.age000-governance-token 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 zSETV0 jjl5yU))) ) (begin (print {DqgArO: SWio0K, lZqBAw: JYg0hU, TxZgNN: (get DqgArO OKYJU5), uBHCYM: u0, PxrZEZ: (get PxrZEZ OKYJU5)}) {DqgArO: SWio0K, lZqBAw: JYg0hU, TxZgNN: (get DqgArO OKYJU5), uBHCYM: u0, PxrZEZ: (get PxrZEZ OKYJU5)} ) ) OKYJU5 ) )