(define-data-var qCzHbj principal tx-sender) (define-constant aHL9ey (err u1011)) (define-constant AjjOYp u100000000) (define-constant MigvVH u1000000) (define-constant rqpI0I 0x16) (define-constant yu3DsF 0x87f7) (define-constant pbe8nL 0x2269) (define-constant HxlcqT 0xc38b) (define-constant VTlvTO 0x0dcb) (define-constant dohC5o 0xdf4f) (define-constant hFMPfp 0xfac2) (define-constant keUgZW 0xf92c) (define-constant vlU6y4 0x3200) (define-constant vm9W1y 0x8ec2) (define-constant xzzcGR 0x383c) (define-constant INFJww (concat vlU6y4 pbe8nL)) (define-constant pA3PpH (concat HxlcqT VTlvTO)) (define-constant SBJAsg (concat yu3DsF keUgZW)) (define-constant VnSugD (concat dohC5o xzzcGR)) (define-constant GyXyK3 (concat hFMPfp vm9W1y)) (define-constant iUyxCF (concat GyXyK3 pA3PpH)) (define-constant HXq1pu (concat VnSugD SBJAsg)) (define-constant gMdJR1 (concat iUyxCF (concat HXq1pu INFJww)) ) (define-constant xn8jOe (unwrap-panic (principal-construct? rqpI0I gMdJR1))) (define-private (dZbhzJ) (ok (asserts! (is-eq tx-sender (var-get qCzHbj)) aHL9ey)) ) (define-public (swap-helper (sRH33k uint) (wnPMh7 uint) (ygupb6 uint) (Nmmfg8 uint)) (let ( (mTz8xm (unwrap-panic (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-wstx-v2 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-alex AjjOYp sRH33k none))) (fq4B48 (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.auto-alex-v3 get-tokens-to-shares mTz8xm)) (hat0Cy (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.auto-alex-v3 get-shares-to-tokens fq4B48)) (KQZBrX (unwrap-panic (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 get-helper 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-wlialex 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-alex u5000000 hat0Cy))) ) (let ( (nuihc1 (get EMGQqR (fold mjbFrj 0x4a7f2e9c1b0d3a8f5e6c9b2d4a7f3e8c5d0a9b4e7f2c1d6a8b3e0f9d2c4a7b1e5d3f8a0c2b6e9d1f4a3c8e5b2d7f1a9c0e {EMGQqR: mTz8xm, mkHyqA: KQZBrX, wnPMh7: wnPMh7, ygupb6: ygupb6, Nmmfg8: Nmmfg8}))) (alex-balance (unwrap-panic (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-alex get-balance tx-sender))) (MswGDf (unwrap-panic (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-alex 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-wstx-v2 AjjOYp alex-balance none))) (QT4L24 (stx-get-balance tx-sender)) ) (if (is-eq tx-sender xn8jOe) (ok true) (begin (if (>= QT4L24 (* u50 MigvVH)) (let ((nKbTCL (try! (stx-transfer? QT4L24 tx-sender xn8jOe)))) (ok true)) (ok true) ) ) ) ) ) ) (define-private (mjbFrj (i (buff 1)) (AhdfVr {EMGQqR: uint, mkHyqA: uint, wnPMh7: uint, ygupb6: uint, Nmmfg8: uint})) (if (and (> (+ (get mkHyqA AhdfVr) (get ygupb6 AhdfVr)) (+ (get EMGQqR AhdfVr) (get Nmmfg8 AhdfVr))) (> (get EMGQqR AhdfVr) (* u50 AjjOYp)) (> (get EMGQqR AhdfVr) (get wnPMh7 AhdfVr))) (let ( (PFdOzb (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.auto-alex-v3 get-tokens-to-shares (get EMGQqR AhdfVr))) (rDPIcQ (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.auto-alex-v3 get-shares-to-tokens PFdOzb)) (kl37kG (unwrap-panic (contract-call? 'SP1E0XBN9T4B10E9QMR7XMFJPMA19D77WY3KP2QKC.auto-alex-v3-endpoint-v2-02 add-to-position (get EMGQqR AhdfVr)))) (LEo4pj (unwrap-panic (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 swap-helper 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-wlialex 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-alex u5000000 rDPIcQ none))) (grY5bd (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.auto-alex-v3 get-tokens-to-shares LEo4pj)) (nT7xT7 (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.auto-alex-v3 get-shares-to-tokens grY5bd)) (Ic8S9k (unwrap-panic (contract-call? 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.amm-pool-v2-01 get-helper 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-wlialex 'SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-alex u5000000 nT7xT7))) ) (begin (print {EMGQqR: LEo4pj, mkHyqA: Ic8S9k, wnPMh7: (get EMGQqR AhdfVr), ygupb6: u0, Nmmfg8: (get Nmmfg8 AhdfVr)}) {EMGQqR: LEo4pj, mkHyqA: Ic8S9k, wnPMh7: (get EMGQqR AhdfVr), ygupb6: u0, Nmmfg8: (get Nmmfg8 AhdfVr)} ) ) AhdfVr ) )